<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mock Forum</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #fef9f4;
    margin: 0;
    padding: 0;
    display: flex;
    min-height: 100vh;
  }
  .sidebar {
    width: 200px;
    background: #0E0066;
    color: white;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  .sidebar h2 { margin-bottom: 1rem; font-size: 1.2rem; }
  .sidebar button {
    background: white; color: #0E0066; border: none; padding: 0.5rem; cursor: pointer; border-radius: 4px;
  }
  .main {
    flex: 1;
    padding: 2rem;
  }
  .nav {
    display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;
  }
  .profile {
    display: flex; align-items: center; gap: 0.5rem;
  }
  .profile img { width: 40px; height: 40px; border-radius: 50%; display: none; }
  .post-card {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1rem;
    background: white;
  }
  .post-card.pinned { background: #ffeedd; border: 2px solid #0E0066; }
  .post-title { font-weight: bold; font-size: 1.2rem; margin-bottom: 0.3rem; }
  .post-date { font-size: 0.8rem; color: #555; margin-bottom: 0.5rem; }
  .post-content { font-size: 1rem; margin-bottom: 0.5rem; }
  .interact button { margin-right: 0.5rem; }
  #login-section button { margin-right: 0.5rem; }
</style>
</head>
<body>

<div class="sidebar">
  <h2>Forums</h2>
  <button onclick="switchForum('general')">General</button>
  <button onclick="switchForum('questions')">Questions</button>
</div>

<div class="main">
  <div class="nav">
    <div id="login-section">
      <button onclick="fakeLogin()">Login</button>
      <button onclick="fakeSignup()">Sign Up</button>
    </div>
    <div class="profile">
      <span id="username"></span>
      <img id="profile-pic" src="https://via.placeholder.com/40">
    </div>
  </div>

  <div id="posts-container"></div>
</div>

<script>
  let currentUser = null;
  let currentForum = 'general';

  const fakePosts = {
    general: [
      { title: "Welcome to the General Forum", content: "This is a place to chat about anything!", date: "2025-08-22", likes: 2, comments: [], pinned: true, author: "admin" },
      { title: "General Discussion Post", content: "Feel free to post your thoughts here.", date: "2025-08-21", likes: 1, comments: [], pinned: false, author: "user" }
    ],
    questions: [
      { title: "How do I start with JavaScript?", content: "I am new to programming. Any tips?", date: "2025-08-22", likes: 3, comments: [], pinned: false, author: "user" }
    ]
  };

  const verifiedStars = ["starUser"]; // Example of verified users whose posts get pinned

  function renderPosts() {
    const container = document.getElementById('posts-container');
    container.innerHTML = '';

    // Sort pinned posts to the top
    const sortedPosts = [...fakePosts[currentForum]].sort((a, b) => (b.pinned ? 1 : 0) - (a.pinned ? 1 : 0));

    sortedPosts.forEach((post, index) => {
      const card = document.createElement('div');
      card.className = 'post-card' + (post.pinned ? ' pinned' : '');
      card.innerHTML = `
        <div class="post-title">${post.title} ${post.pinned ? '‚≠ê' : ''}</div>
        <div class="post-date">${post.date} | by ${post.author}</div>
        <div class="post-content">${post.content}</div>
        <div class="interact">
          Likes: <span>${post.likes}</span>
          <button onclick="likePost(${index})">Like</button>
          <button onclick="commentPost(${index})">Comment</button>
        </div>
        <div class="comments">
          ${post.comments.map(c => `<div>${c.user}: ${c.text}</div>`).join('')}
        </div>
      `;
      container.appendChild(card);
    });
  }

  function likePost(index) {
    if(!currentUser) return alert('Login to like posts');
    fakePosts[currentForum][index].likes++;
    renderPosts();
  }

  function commentPost(index) {
    if(!currentUser) return alert('Login to comment');
    const text = prompt('Enter your comment:');
    if(text) {
      fakePosts[currentForum][index].comments.push({ user: currentUser.name, text });
      renderPosts();
    }
  }

  function fakeLogin() {
    const name = prompt('Enter your name to login');
    if(name) {
      currentUser = { name, pic: 'https://via.placeholder.com/40' };
      updateProfileUI();
    }
  }

  function fakeSignup() {
    const name = prompt('Enter your name to sign up');
    if(name) {
      currentUser = { name, pic: 'https://via.placeholder.com/40' };

      // Auto pin posts if verified star
      if(verifiedStars.includes(name)) {
        fakePosts[currentForum].forEach(post => {
          if(post.author === name) post.pinned = true;
        });
      }

      updateProfileUI();
    }
  }

  function updateProfileUI() {
    document.getElementById('username').textContent = currentUser ? currentUser.name : '';
    const pic = document.getElementById('profile-pic');
    if(currentUser) {
      pic.style.display = 'block';
    } else {
      pic.style.display = 'none';
    }
    document.getElementById('login-section').style.display = currentUser ? 'none' : 'block';
    renderPosts();
  }

  function switchForum(forum) {
    currentForum = forum;
    renderPosts();
  }

  renderPosts();
</script>

</body>
</html>
